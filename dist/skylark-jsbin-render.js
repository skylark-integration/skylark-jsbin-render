/**
 * skylark-jsbin-render - A version of jsbin-render  that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-jsbin-render/
 * @license MIT
 */
!function(e,n){var r=n.define,require=n.require,o="function"==typeof r&&r.amd,t=!o&&"undefined"!=typeof exports;if(!o&&!r){var i={};r=n.define=function(e,n,r){"function"==typeof r?(i[e]={factory:r,deps:n.map(function(n){return function(e,n){if("."!==e[0])return e;var r=n.split("/"),o=e.split("/");r.pop();for(var t=0;t<o.length;t++)"."!=o[t]&&(".."==o[t]?r.pop():r.push(o[t]));return r.join("/")}(n,e)}),resolved:!1,exports:null},require(e)):i[e]={factory:null,resolved:!0,exports:r}},require=n.require=function(e){if(!i.hasOwnProperty(e))throw new Error("Module "+e+" has not been defined");var module=i[e];if(!module.resolved){var r=[];module.deps.forEach(function(e){r.push(require(e))}),module.exports=module.factory.apply(n,r)||null,module.resolved=!0}return module.exports}}if(!r)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(e,require){e("skylark-jsbin-render/jsbin",["skylark-langx-ns"],function(e){return e.attach("intg.jsbin")}),e("skylark-jsbin-render/renderer",["skylark-langx-async/Deferred","skylark-jquery","./jsbin"],function(e,n,r){"use strict";var o,t,i,s={},a=(n(window),n(document));return s.runner={},s.runner.origin="*",s.setup=function(e){s.runner.window=e.contentWindow,s.runner.iframe=e},s.error=function(){window.console.warn.apply(console,["Renderer:"].concat([].slice.call(arguments)))},s.handleMessage=function(e){if(e.origin){var n=e.data;if("string"==typeof n){try{n="string"==typeof e.data?JSON.parse(e.data):e.data}catch(e){return s.error("Error parsing event data:",e.message)}if("function"!=typeof s[n.type])return!1;try{s[n.type](n.data)}catch(e){s.error(e.message)}}}},s.postMessage=function(e,n){if(!s.runner.window)return s.error("postMessage: No connection to runner window.");s.runner.window.postMessage(JSON.stringify({type:e,data:n}),s.runner.origin)},s.complete=function(){try{store.sessionStorage.removeItem("runnerPending")}catch(e){}},s.loopProtectHit=function(e){var n=r.panels.named.javascript.editor;setTimeout(function(){var r=n.state.lint.annotations||[];void 0!==n.updateLinting&&((r=r.filter(function(n){return n.source!=="loopProtectLine:"+e})).push({from:CodeMirror.Pos(e-1,0),to:CodeMirror.Pos(e-1,0),message:'Exiting potential infinite loop.\nTo disable loop protection: add "// noprotect" to your code',severity:"warning",source:"loopProtectLine:"+e}),n.updateLinting(r))},n.state.lint.options.delay||0)},s.resize=(o=s.$live.find(".size"),t=throttle(function(){o.fadeOut(200)},2e3),i=!1,function(e){if(r.embed||(o.show().html(e.width+"px"),t()),r.embed&&self!==top&&!1===i){i=!0;var a=$body.outerHeight(!0)-n(s.runner.iframe).height()+e.offsetHeight;window.parent.postMessage({height:a},"*")}}),s.focus=function(){r.panels.focus(r.panels.named.live),closedropdown()},s.console=function(e){var n=e.method,r=e.args;window._console&&(window._console[n]||(n="log"),window._console[n].apply(window._console,r))},s["console:load:script:success"]=function(e){a.trigger("console:load:script:success",e)},s["console:load:script:error"]=function(e){a.trigger("console:load:script:error",e)},s["console:load:dom:success"]=function(e){a.trigger("console:load:dom:success",e)},s["console:load:dom:error"]=function(e){a.trigger("console:load:dom:error",e)},r.renderer=s}),e("skylark-jsbin-render/main",["./renderer"],function(e){return e}),e("skylark-jsbin-render",["skylark-jsbin-render/main"],function(e){return e})}(r),!o){var s=require("skylark-langx-ns");t?module.exports=s:n.skylarkjs=s}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-jsbin-render.js.map
