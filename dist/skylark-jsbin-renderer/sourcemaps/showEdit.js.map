{"version":3,"sources":["showEdit.js"],"names":["define","$","jsbin","viewer","showEdit","options","window","location","hash","moveTimer","over","doc","document","aEL","path","root","pathname","style","createElement","btn","id","href","slice","innerHTML","documentElement","appendChild","setAttribute","onmouseover","onmouseout","show","hide","attachEvent","clearTimeout","top","setTimeout"],"mappings":";;;;;;;AAAAA,QACE,iBACC,WACD,SAAUC,EAAEC,GACV,aA+CF,OAAOA,EAAMC,OAAOC,SA5CpB,SAAuBC,GAErB,GAA6B,YAAzBC,OAAOC,SAASC,KAApB,CAEA,IAAIC,EAAWC,EACfC,EAAMC,SACNC,EAAM,mBACNC,EAAOT,EAAQU,KAAOT,OAAOC,SAASS,SACtCC,EAAQN,EAAIO,cAAc,QAC1BC,EAAMR,EAAIO,cAAc,KAGxBC,EAAIC,GAAK,mBACTD,EAAIE,KAAOP,GAA2B,MAAnBA,EAAKQ,OAAO,GAAa,GAAK,KAAO,OACxDH,EAAII,UAAY,4BAA8BlB,EAAgB,OAAI,+CAClEM,EAAIa,gBAAgBC,YAAYN,GAGhCF,EAAMS,aAAa,MAAO,cAC1BT,EAAMS,aAAa,OAAQrB,EAAgB,OAAI,iBAC/CM,EAAIa,gBAAgBC,YAAYR,GAIhCE,EAAIQ,YAAcR,EAAIS,WAAa,aACjClB,GAAQA,GACAmB,EAAOC,MAajBD,IACIhB,KAAOF,EAAMA,EAAIE,GAAK,YAAagB,GAAM,GACvClB,EAAIoB,YAAY,YAAaF,GAZnC,SAASA,IACPG,aAAavB,GACbU,EAAIF,MAAMgB,IAAM,IAChBxB,EAAYyB,WAAWJ,EAAM,KAG/B,SAASA,IACFpB,IAAQS,EAAIF,MAAMgB,IAAM","file":"../showEdit.js","sourcesContent":["define([\r\n  \"skylark-jquery\",\r\n   \"./jsbin\"\r\n],function ($,jsbin) {\r\n    'use strict';\r\n\r\n  // \"Edit in JS Bin\" button setup\r\n  function jsbinShowEdit(options) {\r\n    'use strict';\r\n    if (window.location.hash === '#noedit') {return;}\r\n\r\n    var moveTimer, over,\r\n    doc = document,\r\n    aEL = 'addEventListener',\r\n    path = options.root + window.location.pathname,\r\n    style = doc.createElement('link'),\r\n    btn = doc.createElement('a');\r\n\r\n    // Add button:\r\n    btn.id = 'edit-with-js-bin';\r\n    btn.href = path + (path.slice(-1) === '/' ? '' : '/') + 'edit';\r\n    btn.innerHTML = 'Edit in JS Bin <img src=\"' + options['static'] + '/images/favicon.png\" width=\"16\" height=\"16\">';\r\n    doc.documentElement.appendChild(btn);\r\n\r\n    // Style button:\r\n    style.setAttribute('rel', 'stylesheet');\r\n    style.setAttribute('href', options['static'] + '/css/edit.css');\r\n    doc.documentElement.appendChild(style);\r\n\r\n\r\n    // show / hide button:\r\n    btn.onmouseover = btn.onmouseout = function() {\r\n      over = !over;\r\n      (over ? show : hide)();\r\n    };\r\n\r\n    function show() {\r\n      clearTimeout(moveTimer);\r\n      btn.style.top = '0';\r\n      moveTimer = setTimeout(hide, 2000);\r\n    }\r\n\r\n    function hide() {\r\n      if (!over) { btn.style.top = '-60px'; }\r\n    }\r\n\r\n    show();\r\n    if (aEL in doc) {doc[aEL]('mousemove', show, false);}\r\n    else {doc.attachEvent('mousemove', show);}\r\n  }\r\n\r\n  return jsbin.viewer.showEdit = jsbinShowEdit;\r\n});"]}